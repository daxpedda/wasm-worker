import{initSync as s,__web_thread_worklet_register as e,__web_thread_worklet_entry as r}from"@shim.js";globalThis.__web_thread_register_processor=(s,e)=>{globalThis.registerProcessor(s,class extends AudioWorkletProcessor{constructor(s){super(),this.__web_thread_this=e.instantiate(this,s)}process(s,e,r){return this.__web_thread_this.process(s,e,r)}static get parameterDescriptors(){return e.parameterDescriptors()}})},registerProcessor("__web_thread_worklet",class extends AudioWorkletProcessor{constructor(t){super();let o=this,[i,c,n,a,_]=t.processorOptions;s({module:i,memory:c,thread_stack_size:n});let p=new Int32Array(c.buffer);Atomics.store(p,a,0),Atomics.notify(p,a),e(_),o.continueProcessing=!0,o.port.onmessage=s=>{o.continueProcessing=!1,o.port.onmessage=null;let[e,t]=s.data;void 0!==e&&r(e,t,s.ports[0])}}process(){return this.continueProcessing}});