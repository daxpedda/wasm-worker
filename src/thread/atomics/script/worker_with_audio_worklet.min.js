import{initSync as t,__web_thread_worker_entry as s}from"@shim.js";onmessage=async i=>{onmessage=null;let[o,a,m,[e,A],c,r]=i.data,n=new Int32Array(a.buffer);for(Atomics.wait(n,e,1),Atomics.add(n,A,1);1===Atomics.load(n,e);)1===Atomics.sub(n,A,1)&&Atomics.notify(n,A),Atomics.wait(n,e,1),Atomics.add(n,A,1);t({module:o,memory:a,thread_stack_size:m}),1===Atomics.sub(n,A,1)&&Atomics.notify(n,A);let f=await s(c,r);Atomics.store(n,f,1),Atomics.notify(n,f),Atomics.wait(new Int32Array(new SharedArrayBuffer(4)),0,0)};