import{initSync as s,__web_thread_worklet_register as e,__web_thread_worklet_entry as r}from"@shim.js";globalThis.__web_thread_register_processor=(s,e)=>{globalThis.registerProcessor(s,class extends AudioWorkletProcessor{constructor(s){super(),this.__web_thread_this=e.instantiate(this,s)}process(s,e,r){return this.__web_thread_this.process(s,e,r)}static get parameterDescriptors(){return e.parameterDescriptors()}})},registerProcessor("__web_thread_worklet",class extends AudioWorkletProcessor{constructor(t){super();let[o,i,c,n,a]=t.processorOptions;s({module:o,memory:i,thread_stack_size:c});let _=new Int32Array(i.buffer);Atomics.store(_,n,0),Atomics.notify(_,n),e(a),this.continueProcessing=!0,this.port.onmessage=s=>{this.continueProcessing=!1,this.port.onmessage=void 0;let[e,t]=s.data;void 0!==e&&r(e,t,s.ports[0])}}process(){return this.continueProcessing}});
